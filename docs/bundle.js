!function(t){var e={};function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){t.exports=n(9)},function(t,e,n){},,function(t,e,n){},,function(t,e,n){},,,,function(t,e,n){"use strict";function a(){}function o(t,e){for(var n in e)t[n]=e[n];return t}function s(t,e){return 0===e&&t(),()=>{--e||t()}}function r(t){t()}function i(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n)}function l(t){t.parentNode.removeChild(t)}function u(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function m(t,e,n){t.addEventListener(e,n,!1)}function h(t,e,n){t.removeEventListener(e,n,!1)}function f(t,e,n){t.setAttribute(e,n)}function g(t,e){t.data=""+e}function b(t,e,n){t.style.setProperty(e,n)}function v(t){return t}function _({a:t,b:e,delta:n,duration:a},o,s){const r=16.666/a;let i="{\n";for(let e=0;e<=1;e+=r){const a=t+n*o(e);i+=100*e+`%{${s(a,1-a)}}\n`}return i+`100% {${s(e,1-e)}}\n}`}function y(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function T(t,e,n,o,s){let i,c,l,u=n.call(t,e,o),d=!1;return{t:s?0:1,running:!1,program:null,pending:null,run(t,e){"function"==typeof u?w.wait().then(()=>{u=u(),this._run(t,e)}):this._run(t,e)},_run(t,n){i=u.duration||300,c=u.easing||v;const o={start:window.performance.now()+(u.delay||0),b:t,callback:n||a};s&&!d&&(u.css&&u.delay&&(l=e.style.cssText,e.style.cssText+=u.css(0,1)),u.tick&&u.tick(0,1),d=!0),t||(o.group=x.current,x.current.remaining+=1),u.delay?this.pending=o:this.start(o),this.running||(this.running=!0,w.add(this))},start(n){if(t.fire(`${n.b?"intro":"outro"}.start`,{node:e}),n.a=this.t,n.delta=n.b-n.a,n.duration=i*Math.abs(n.b-n.a),n.end=n.start+n.duration,u.css){u.delay&&(e.style.cssText=l);const t=_(n,c,u.css);w.addRule(t,n.name="__svelte_"+y(t)),e.style.animation=(e.style.animation||"").split(", ").filter(t=>t&&(n.delta<0||!/__svelte/.test(t))).concat(`${n.name} ${n.duration}ms linear 1 forwards`).join(", ")}this.program=n,this.pending=null},update(t){const e=this.program;if(!e)return;const n=t-e.start;this.t=e.a+e.delta*c(n/e.duration),u.tick&&u.tick(this.t,1-this.t)},done(){const n=this.program;this.t=n.b,u.tick&&u.tick(this.t,1-this.t),t.fire(`${n.b?"intro":"outro"}.end`,{node:e}),n.b||n.invalidated?u.css&&w.deleteRule(e,n.name):(n.group.callbacks.push(()=>{n.callback(),u.css&&w.deleteRule(e,n.name)}),0==--n.group.remaining&&n.group.callbacks.forEach(r)),this.running=!!this.pending},abort(t){this.program&&(t&&u.tick&&u.tick(1,0),u.css&&w.deleteRule(e,this.program.name),this.program=this.pending=null,this.running=!1)},invalidate(){this.program&&(this.program.invalidated=!0)}}}n.r(e);let x={};function N(){x.current={remaining:0,callbacks:[]}}var w={running:!1,transitions:[],bound:null,stylesheet:null,activeRules:{},promise:null,add(t){this.transitions.push(t),this.running||(this.running=!0,requestAnimationFrame(this.bound||(this.bound=this.next.bind(this))))},addRule(t,e){if(!this.stylesheet){const t=d("style");document.head.appendChild(t),w.stylesheet=t.sheet}this.activeRules[e]||(this.activeRules[e]=!0,this.stylesheet.insertRule(`@keyframes ${e} ${t}`,this.stylesheet.cssRules.length))},next(){this.running=!1;const t=window.performance.now();let e=this.transitions.length;for(;e--;){const n=this.transitions[e];n.program&&t>=n.program.end&&n.done(),n.pending&&t>=n.pending.start&&n.start(n.pending),n.running?(n.update(t),this.running=!0):n.pending||this.transitions.splice(e,1)}if(this.running)requestAnimationFrame(this.bound);else if(this.stylesheet){let t=this.stylesheet.cssRules.length;for(;t--;)this.stylesheet.deleteRule(t);this.activeRules={}}},deleteRule(t,e){t.style.animation=t.style.animation.split(", ").filter(t=>t&&-1===t.indexOf(e)).join(", ")},wait:()=>(w.promise||(w.promise=Promise.resolve(),w.promise.then(()=>{w.promise=null})),w.promise)};function C(){return Object.create(null)}function k(t){this.destroy=a,this.fire("destroy"),this.set=a,this._fragment.d(!1!==t),this._fragment=null,this._state={}}function I(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function O(t,e){return t!=t?e==e:t!==e}function j(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var a=0;a<n.length;a+=1){var o=n[a];if(!o.__calling)try{o.__calling=!0,o.call(this,e)}finally{o.__calling=!1}}}function S(t){t._lock=!0,P(t._beforecreate),P(t._oncreate),P(t._aftercreate),t._lock=!1}function R(){return this._state}function E(t,e){t._handlers=C(),t._slots=C(),t._bind=e._bind,t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function F(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function $(t){this._set(o({},t)),this.root._lock||S(this.root)}function M(t){var e=this._state,n={},a=!1;for(var s in t)this._differs(t[s],e[s])&&(n[s]=a=!0);a&&(this._state=o(o({},e),t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:e}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:e})))}function P(t){for(;t&&t.length;)t.shift()()}function A(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)}var L={destroy:k,get:R,fire:j,on:F,set:$,_recompute:a,_set:M,_mount:A,_differs:I},B=/\[\s*(\d+)\s*\]/g;function J(t){return function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];for(var o=e.replace(B,".$1").split("."),s=o.shift(),r=this.get()[s],i=r;o.length;)i=i[o.shift()];var c,l=i[t].apply(i,n);return this.set(((c={})[s]=r,c)),l}}J("push"),J("pop"),J("shift"),J("unshift");var H=J("splice");J("sort"),J("reverse");function q(t){var e=t-1;return e*e*e+1}var K=function(t,e){var n=e.delay;void 0===n&&(n=0);var a=e.duration;void 0===a&&(a=400);var o=e.easing;void 0===o&&(o=q);var s=getComputedStyle(t),r=+s.opacity,i=parseFloat(s.height),c=parseFloat(s.paddingTop),l=parseFloat(s.paddingBottom),u=parseFloat(s.marginTop),d=parseFloat(s.marginBottom),p=parseFloat(s.borderTopWidth),m=parseFloat(s.borderBottomWidth);return{delay:n,duration:a,easing:o,css:function(t){return"overflow: hidden;opacity: "+Math.min(20*t,1)*r+";height: "+t*i+"px;padding-top: "+t*c+"px;padding-bottom: "+t*l+"px;margin-top: "+t*u+"px;margin-bottom: "+t*d+"px;border-top-width: "+t*p+"px;border-bottom-width: "+t*m+"px;"}}};n(1);function W(t){return"number"==typeof t&&t.toFixed(2).toString().replace(".",",")+"€"}var z={selectTab(t){console.debug(t)}};function D(t,e){var n,a,o,s,r,u,b,v,_,y,T,x=e.idx+1,N=e.product.name,w=W(e.product.price);return{c(){n=d("tr"),a=d("th"),o=p(x),s=p("\n\t\t\t\t\t"),r=d("td"),u=p(N),b=p("\n\t\t\t\t\t"),v=d("td"),(_=d("button")).textContent="×",y=p("\n\n\t\t\t\t\t\t"),T=p(w),a.scope="col",r._svelte={component:t,ctx:e},m(r,"click",Q),r.className="clickable svelte-1k1yhxt",_._svelte={component:t,ctx:e},m(_,"click",U),f(_,"aria-hidden","true"),_.className="btn btn-sm btn-outline-light btn-borderless",v.className="number"},m(t,e){c(t,n,e),i(n,a),i(a,o),i(n,s),i(n,r),i(r,u),i(n,b),i(n,v),i(v,_),i(v,y),i(v,T)},p(t,e){t.catalogue&&N!==(N=e.product.name)&&g(u,N),r._svelte.ctx=e,_._svelte.ctx=e,t.catalogue&&w!==(w=W(e.product.price))&&g(T,w)},d(t){t&&l(n),h(r,"click",Q),h(_,"click",U)}}}function G(t,e,n){const a=Object.create(t);return a.product=e[n],a.each_value=e,a.idx=n,a}function Q(t){const{component:e,ctx:n}=this._svelte;e.fire("selectProduct",{product:n.product})}function U(t){const{component:e,ctx:n}=this._svelte;e.fire("removeCatalogueIdx",{idx:n.idx})}function V(t){E(this,t),this._state=o({},t.data),this._intro=!!t.intro,this._fragment=function(t,e){var n,a,o,s,r,g,b,v,_,y,x,N,w,C,k,I,O,j,S,R=!1,E=!1;function F(e){t.fire("close")}for(var $=e.catalogue,M=[],P=0;P<$.length;P+=1)M[P]=D(t,G(e,$,P));function A(){R=!0,e.newCatalogueItem.name=N.value,t.set({newCatalogueItem:e.newCatalogueItem}),R=!1}function L(){E=!0,e.newCatalogueItem.price=C.value,t.set({newCatalogueItem:e.newCatalogueItem}),E=!1}function B(e){t.fire("addToCatalogue")}return{c(){n=d("div"),a=d("div"),(o=d("button")).innerHTML='<span aria-hidden="true">×</span>',s=p("\n\t\t"),(r=d("h3")).textContent="Products",g=p("\n\n\t\t"),b=d("table"),v=d("tbody");for(var t=0;t<M.length;t+=1)M[t].c();_=p("\n\t"),y=d("div"),x=d("div"),N=d("input"),w=p("\n\t\t\t\t"),C=d("input"),k=p("\n\t\t\t\t"),I=d("div"),(O=d("button")).textContent="+",m(o,"click",F),o.type="button",o.className="close",o.title="Close",r.className="card-title",b.className="table table-sm table-striped",a.className="card-body",m(N,"input",A),f(N,"type","text"),N.className="form-control",N.placeholder="name",m(C,"input",L),f(C,"type","text"),C.className="form-control",C.placeholder="price",m(O,"click",B),O.className="btn btn-sm btn-success",I.className="input-group-append",x.className="input-group input-group-sm mb-3",y.className="card-footer",n.className="card"},m(t,l){c(t,n,l),i(n,a),i(a,o),i(a,s),i(a,r),i(a,g),i(a,b),i(b,v);for(var u=0;u<M.length;u+=1)M[u].m(v,null);i(n,_),i(n,y),i(y,x),i(x,N),N.value=e.newCatalogueItem.name,i(x,w),i(x,C),C.value=e.newCatalogueItem.price,i(x,k),i(x,I),i(I,O),S=!0},p(n,a){if(e=a,n.catalogue){$=e.catalogue;for(var o=0;o<$.length;o+=1){const a=G(e,$,o);M[o]?M[o].p(n,a):(M[o]=D(t,a),M[o].c(),M[o].m(v,null))}for(;o<M.length;o+=1)M[o].d(1);M.length=$.length}R||(N.value=e.newCatalogueItem.name),E||(C.value=e.newCatalogueItem.price)},i(e,a){S||(t.root._intro&&(j&&j.invalidate(),t.root._aftercreate.push(()=>{j||(j=T(t,n,K,{},!0)),j.run(1)})),this.m(e,a))},o(e){S&&(j||(j=T(t,n,K,{},!1)),j.run(0,()=>{e(),j=null}),S=!1)},d(t){t&&l(n),h(o,"click",F),u(M,t),h(N,"input",A),h(C,"input",L),h(O,"click",B),t&&j&&j.abort()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),S(this)),this._intro=!0}o(V.prototype,L),o(V.prototype,z),V.prototype._differs=O;var X=V;n(3);function Y(t){return"number"==typeof t&&t.toFixed(2).toString().replace(".",",")+"€"}var Z={selectTab(t){console.debug(t)}};function tt(t,e){var n,a,o,s,r,u,b,v,_=e.product,y=Y(e.price);return{c(){n=d("tr"),a=d("td"),o=p(_),s=p("\n                "),r=d("td"),(u=d("button")).textContent="×",b=p("\n                "),v=p(y),u._svelte={component:t,ctx:e},m(u,"click",rt),f(u,"aria-hidden","true"),u.className="btn btn-sm btn-outline-light btn-borderless",r.className="number"},m(t,e){c(t,n,e),i(n,a),i(a,o),i(n,s),i(n,r),i(r,u),i(r,b),i(r,v)},p(t,e){(t.Object||t.tap)&&_!==(_=e.product)&&g(o,_),u._svelte.ctx=e,(t.Object||t.tap)&&y!==(y=Y(e.price))&&g(v,y)},d(t){t&&l(n),h(u,"click",rt)}}}function et(t,e){var n;function a(n){t.fire("clearTap",{name:e.name})}return{c(){(n=d("button")).textContent="× clear",m(n,"click",a),n.className="btn btn-outline-danger btn-sm"},m(t,e){c(t,n,e)},p(t,n){e=n},d(t){t&&l(n),h(n,"click",a)}}}function nt(t,e){var n;return{c(){(n=d("small")).textContent="Nothing yet",n.className="text-muted"},m(t,e){c(t,n,e)},p:a,d(t){t&&l(n)}}}function at(t,e){var n;function a(n){t.fire("addToTap",{name:e.name})}return{c(){(n=d("button")).textContent="+ add",m(n,"click",a),n.className="btn btn-primary btn-sm"},m(t,e){c(t,n,e)},p(t,n){e=n},d(t){t&&l(n),h(n,"click",a)}}}function ot(t,e){var n;function a(n){t.fire("addToTap",{name:e.name})}return{c(){(n=d("button")).textContent="+ add",m(n,"click",a),n.className="btn btn-outline-primary btn-sm",n.disabled=!0},m(t,e){c(t,n,e)},p(t,n){e=n},d(t){t&&l(n),h(n,"click",a)}}}function st(t,e,n){const a=Object.create(t);return a.product=e[n].name,a.price=e[n].price,a.each_value=e,a.idx=n,a}function rt(t){const{component:e,ctx:n}=this._svelte;e.fire("deleteTapEntry",{name:n.name,idx:n.idx})}function it(t){E(this,t),this._state=o({Object:Object},t.data),this._recompute({tap:1},this._state),this._intro=!!t.intro,this._fragment=function(t,e){var n,a,o,s,r,f,b,v,_,y,x,N,w,C,k,I,O,j,S,R,E,F,$=Y(e.sum),M=Y(e.sum);function P(n){t.fire("close",{name:e.name})}for(var A=e.Object.values(e.tap),L=[],B=0;B<A.length;B+=1)L[B]=tt(t,st(e,A,B));function J(t){return t.Object.values(t.tap).length>0?et:nt}var H=J(e),q=H(t,e);function W(t){return t.selectedTap!==t.name?at:ot}var z=W(e),D=z(t,e);return{c(){n=d("div"),a=d("h5"),o=p(e.name),s=p(" ("),r=p($),f=p(")\n    "),(b=d("button")).innerHTML='<span aria-hidden="true">×</span>',v=p("\n\n    "),_=d("div"),y=d("table"),x=d("tbody");for(var t=0;t<L.length;t+=1)L[t].c();N=p("\n            "),w=d("tfoot"),C=d("tr"),k=d("td"),q.c(),I=p("\n                    "),O=d("td"),j=p(M),S=p("\n    "),R=d("div"),D.c(),m(b,"click",P),b.type="button",b.className="close svelte-fodv3",b.title="Close",a.className="card-header",O.colSpan="3",O.className="number",y.className="table table-sm table-borderless",_.className="card-body taplist svelte-fodv3",R.className="card-footer text-muted",n.className="card"},m(t,e){c(t,n,e),i(n,a),i(a,o),i(a,s),i(a,r),i(a,f),i(a,b),i(n,v),i(n,_),i(_,y),i(y,x);for(var l=0;l<L.length;l+=1)L[l].m(x,null);i(y,N),i(y,w),i(w,C),i(C,k),q.m(k,null),i(C,I),i(C,O),i(O,j),i(n,S),i(n,R),D.m(R,null),F=!0},p(n,a){if(e=a,F&&!n.name||g(o,e.name),F&&!n.sum||$===($=Y(e.sum))||g(r,$),n.Object||n.tap||n.name){A=e.Object.values(e.tap);for(var s=0;s<A.length;s+=1){const a=st(e,A,s);L[s]?L[s].p(n,a):(L[s]=tt(t,a),L[s].c(),L[s].m(x,null))}for(;s<L.length;s+=1)L[s].d(1);L.length=A.length}H===(H=J(e))&&q?q.p(n,e):(q.d(1),(q=H(t,e)).c(),q.m(k,null)),F&&!n.sum||M===(M=Y(e.sum))||g(j,M),z===(z=W(e))&&D?D.p(n,e):(D.d(1),(D=z(t,e)).c(),D.m(R,null))},i(e,a){F||(t.root._intro&&(E&&E.invalidate(),t.root._aftercreate.push(()=>{E||(E=T(t,n,K,{},!0)),E.run(1)})),this.m(e,a))},o(e){F&&(E||(E=T(t,n,K,{},!1)),E.run(0,()=>{e(),E=null}),F=!1)},d(t){t&&l(n),h(b,"click",P),u(L,t),q.d(),D.d(),t&&E&&E.abort()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),S(this)),this._intro=!0}o(it.prototype,L),o(it.prototype,Z),it.prototype._recompute=function(t,e){t.tap&&this._differs(e.sum,e.sum=function({tap:t}){const e=t.map(({price:t})=>t).filter(t=>!!t);return e.length>0?e.reduce((t,e)=>t+e):0}(e))&&(t.sum=!0)},it.prototype._differs=O;var ct=it,lt=(n(5),{splice:H,showCatalogue(t){console.debug(`showing catalogue for ${t}`),this.set({selectedTap:t})},unselectTap(){this.set({selectedTap:null})},addTap(){const{taps:t,newTapName:e}=this.get();if(console.debug(`adding tap ${e}`),Object.keys(t).indexOf(e)>=0)return console.warn(`can't add ${e} again`),!1;const n={};return n[e]=[],this.set({taps:{...t,...n}}),this.storeTaps(),!1},addToTap(t){console.debug("addToTap",{product:t});const{taps:e,selectedTap:n}=this.get();if(n){const a={};a[n]=e[n].concat(t),this.set({taps:{...e,...a}})}},deleteTapEntry({name:t,idx:e}){console.debug("deleteTapEntry",{name:t,idx:e});const{taps:n}=this.get(),a=n[t];a.splice(e,1);const o={...n};o[t]=[...a],console.dir({taps:n,update:o}),this.set({taps:o})},clearTap(t){console.debug({name:t});const{taps:e,selectedTap:n}=this.get(),a={};a[t]=e[t]=[],this.set({taps:{...e,...a},selectedTap:null})},closeTap(t){console.debug({name:t});const{taps:e,selectedTap:n}=this.get(),a={...e};delete a[t],this.set({taps:a,selectedTap:null})},addToCatalogue(){const{newCatalogueItem:t,catalogue:e}=this.get(),{name:n,price:a}=t;let o=null;try{o=Number.parseFloat(a)}catch(t){console.error("no valid price",{error:t})}"string"!=typeof n||"number"!=typeof o||Number.isNaN(o)||(this.set({newCatalogueItem:{name:null,price:null}}),this.set({catalogue:[...e,{name:n,price:o}]}),this.storeCatalogue())},deleteCatalogueEntry({idx:t}){const{catalogue:e}=this.get();console.debug({deleteCatalogueEntry:{idx:t},catalogue:e}),e.splice(t,1),this.set({catalogue:[...e]})},storeTaps(){const{taps:t}=this.get();localStorage.setItem("taps",JSON.stringify(t))},storeCatalogue(){const{catalogue:t}=this.get();localStorage.setItem("catalogue",JSON.stringify(t))},resetAll(){this.set({selectedTap:null,newTapName:null,taps:{}})}});function ut({current:t}){const{catalogue:e,taps:n}=t;this.storeTaps(),this.storeCatalogue()}function dt(t,e){var n,a,o,s,r,u={},m={catalogue:e.catalogue};void 0!==e.newCatalogueItem&&(m.newCatalogueItem=e.newCatalogueItem,u.newCatalogueItem=!0);var h=new X({root:t.root,store:t.store,data:m,_bind(e,n){var a={};!u.newCatalogueItem&&e.newCatalogueItem&&(a.newCatalogueItem=n.newCatalogueItem),t._set(a),u={}}});return t.root._beforecreate.push(()=>{h._bind({newCatalogueItem:1},h.get())}),h.on("selectProduct",function(e){t.addToTap(e.product)}),h.on("addToCatalogue",function(e){t.addToCatalogue()}),h.on("close",function(e){t.unselectTap()}),h.on("removeCatalogueIdx",function(e){t.deleteCatalogueEntry(e)}),{c(){n=d("div"),h._fragment.c(),a=p("\n\n        "),o=d("span"),s=p(e.selectedTap),o.className="badge badge-success",n.className="col-md-4"},m(t,e){c(t,n,e),h._mount(n,null),i(n,a),i(n,o),i(o,s),r=!0},p(t,n){e=n;var a={};t.catalogue&&(a.catalogue=e.catalogue),!u.newCatalogueItem&&t.newCatalogueItem&&(a.newCatalogueItem=e.newCatalogueItem,u.newCatalogueItem=void 0!==e.newCatalogueItem),h._set(a),u={},r&&!t.selectedTap||g(s,e.selectedTap)},i(t,e){r||this.m(t,e)},o(t){r&&(h&&h._fragment.o(t),r=!1)},d(t){t&&l(n),h.destroy()}}}function pt(t,e){var n,a,o={name:e.name,tap:e.tap,selectedTap:e.selectedTap},s=new ct({root:t.root,store:t.store,data:o});return s.on("addToTap",function(e){t.showCatalogue(e.name)}),s.on("clearTap",function(e){t.clearTap(e.name)}),s.on("close",function(e){t.closeTap(e.name)}),s.on("deleteTapEntry",function(e){t.deleteTapEntry(e)}),{c(){n=d("div"),s._fragment.c(),n.className="col-xl-4 col-md-6 col-sm-12"},m(t,e){c(t,n,e),s._mount(n,null),a=!0},p(t,e){var n={};(t.Object||t.taps)&&(n.name=e.name),(t.Object||t.taps)&&(n.tap=e.tap),t.selectedTap&&(n.selectedTap=e.selectedTap),s._set(n)},i(t,e){a||this.m(t,e)},o(t){a&&(s&&s._fragment.o(t),a=!1)},d(t){t&&l(n),s.destroy()}}}function mt(t,e,n){const a=Object.create(t);return a.name=e[n][0],a.tap=e[n][1],a.each_value=e,a.each_index=n,a}function ht(t){E(this,t),this._state=o({Object:Object},t.data),this._intro=!!t.intro,this._handlers.update=[ut],this._fragment=function(t,e){var n,a,o,r,g,v,_,y,T,x,w,C,k,I,O,j,S,R,E,F,$,M,P,A=!1;function L(e){t.resetAll()}function B(){A=!0,t.set({newTapName:I.value}),A=!1}function J(e){t.addTap()}function H(e){t.addTap()}for(var q=e.selectedTap&&dt(t,e),K=e.Object.entries(e.taps),W=[],z=0;z<K.length;z+=1)W[z]=pt(t,mt(e,K,z));function D(t,e,n){W[t]&&W[t].o(()=>{e&&(W[t].d(e),W[t]=null),n&&n()})}return{c(){n=d("header"),a=d("div"),(o=d("div")).innerHTML="<h2>TapTab</h2>",r=p("\n\n        "),g=d("div"),v=d("div"),(_=d("button")).textContent="× reset",y=p("\n\n"),T=d("div"),x=d("div"),w=d("div"),C=d("form"),k=d("div"),I=d("input"),O=p("\n                "),j=d("div"),(S=d("button")).textContent="+",R=p("\n\n    "),E=d("div"),q&&q.c(),F=p("\n        "),$=d("div"),M=d("div");for(var t=0;t<W.length;t+=1)W[t].c();o.className="col-sm",m(_,"click",L),_.className="btn btn-sm btn-danger",v.className="btn-group btn-group-toggle",v.dataset.toggle="buttons",g.className="col-3",a.className="row",n.className="header",m(I,"input",B),f(I,"type","text"),I.className="form-control",I.placeholder="guest name",f(I,"aria-label","New Tap"),f(I,"aria-describedby","button-addon2"),m(S,"click",J),S.className="btn btn-sm btn-success",j.className="input-group-append",k.className="input-group input-group-sm mb-3",m(C,"submit",H),w.className="col-sm",x.className="row",M.className="row",b(M,"max-height","800px"),b(M,"overflow","scroll"),$.className="col",E.className="row",T.className="container"},m(t,s){c(t,n,s),i(n,a),i(a,o),i(a,r),i(a,g),i(g,v),i(v,_),c(t,y,s),c(t,T,s),i(T,x),i(x,w),i(w,C),i(C,k),i(k,I),I.value=e.newTapName,i(k,O),i(k,j),i(j,S),i(T,R),i(T,E),q&&q.m(E,null),i(E,F),i(E,$),i($,M);for(var l=0;l<W.length;l+=1)W[l].i(M,null);P=!0},p(e,n){if(A||(I.value=n.newTapName),n.selectedTap?(q?q.p(e,n):(q=dt(t,n))&&q.c(),q.i(E,F)):q&&(N(),q.o(function(){q.d(1),q=null})),e.Object||e.taps||e.selectedTap){K=n.Object.entries(n.taps);for(var a=0;a<K.length;a+=1){const o=mt(n,K,a);W[a]?W[a].p(e,o):(W[a]=pt(t,o),W[a].c()),W[a].i(M,null)}for(N();a<W.length;a+=1)D(a,1)}},i(t,e){P||this.m(t,e)},o(t){if(!P)return;t=s(t,2),q?q.o(t):t();const e=s(t,W.length);for(let t=0;t<W.length;t+=1)D(t,0,e);P=!1},d(t){t&&l(n),h(_,"click",L),t&&(l(y),l(T)),h(I,"input",B),h(S,"click",J),h(C,"submit",H),q&&q.d(),u(W,t)}}}(this,this._state),this.root._oncreate.push(()=>{(function(){const{taps:t,catalogue:e}=this.get(),n=JSON.parse(localStorage.getItem("taps"))||{},a=JSON.parse(localStorage.getItem("catalogue"))||e;console.info("oncreate",{taps:t,catalogue:e,storedTaps:n,storedCatalogue:a}),this.set({taps:n,catalogue:[...a]})}).call(this),this.fire("update",{changed:function(t,e){for(var n in e)t[n]=1;return t}({},this._state),current:this._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),S(this)),this._intro=!0}o(ht.prototype,L),o(ht.prototype,lt),ht.prototype._differs=O;const ft=new ht({target:document.body,data:{selectedTap:null,newTapName:null,taps:{},catalogue:[{name:"Kaffee",price:.8},{name:"Club Mate",price:1.3},{name:"Kolle Mate",price:1.3},{name:"Snickers",price:.6}],newCatalogueItem:{name:null,price:null}}});window.app=ft;e.default=ft}]);